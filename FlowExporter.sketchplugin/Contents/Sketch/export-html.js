var that=this;function __skpm_run(e,t){that.context=t;var n=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var r=n(6).default;e.exports=new r({options:null,"buttonClicked:":function(e){this.options.onClicked&&this.options.onClicked(e.tag()),this.release()},"button0Clicked:":function(){this.options.onClicked&&this.options.onClicked(0),this.release()},"button1Clicked:":function(){this.options.onClicked&&this.options.onClicked(1),this.release()}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.getSelectedDocument(),n={title:null,flowStartArtboardId:null,artboards:{}},f={},p=[],S=null;if(t.pages.forEach(function(e){e.layers.forEach(function(e){e instanceof o&&(S=!0,f[e.id]=e,e.flowStartPoint&&p.push(e))})}),S){var g=null;g=p.length?p[0]:Object.values(f)[0];var v="ExportedFlow",m=t.sketchObject.fileURL();if(m){m=String(m.path());var b=d.basename(m).replace(/\.[^.]+$/,"");n.title=b,v=String(b)+"_ExportedFlow"}var y=s.showSaveDialog(t.sketchObject,{defaultPath:v,nameFieldLabel:"Export directory name:",buttonLabel:"Export"});if(y){if(u.existsSync(y)){if(!(0===s.showMessageBox(t.sketchObject,{type:"question",buttons:["Overwrite","Cancel"],title:"Directory exists, overwrite?",message:"The output directory you chose already exists. Are you sure you want to overwrite it?\n\n"+y,icon:NSImage.alloc().initWithContentsOfFile(e.plugin.urlForResourceNamed("icon.png").path())})))return;u.rmdirSync(y)}n.flowStartArtboardId=g.id;for(var F=[g.id],N={},w=function(){return function(){var e=F.shift();if(!e)return!1;var t=f[e];if(N[t.id])return!0;N[t.id]=!0,r.export(t,{formats:"png","use-id-for-name":!0,overwriting:!0,output:y});var i={title:t.name,width:t.frame.width,height:t.frame.height,hotspots:[]};return function e(t,n){h(t,function(t,o){r.fromNative(t);var c=String(t.objectID()),s=t.flow();if(s){for(var u=t.frame(),d=new a(u.x(),u.y(),u.width(),u.height()),f=t.parentGroup();f&&!(f instanceof MSArtboardGroup||f instanceof MSSymbolMaster);)d.offset(f.frame().x(),f.frame().y()),f=f.parentGroup();var p=String(s.destinationArtboardID());if(c in n&&(p=n[c]),p){p!==String(l.BackTarget)&&F.push(p);var S={rectangle:d,target:p};i.hotspots.push(S)}}if(t instanceof MSSymbolInstance&&function e(t){var n=!1;return h(t.symbolMaster(),function(t){t.flow()&&(n=!0),t instanceof MSSymbolInstance&&e(t)&&(n=!0)}),n}(t)){var g=Object.assign({},t.overrides(),n),v=t.copy();t.parentGroup().addLayer(v),e(v=v.detachByReplacingWithGroup(),g),v.removeFromParent()}})}(t.sketchObject,{}),n.artboards[t.id]=i,!0}}();w(););var _=String(y)+"/index.html";u.writeFileSync(_,function(e,t){return u.readFileSync(e.plugin.urlForResourceNamed("index_template.html").path(),{encoding:"utf8"}).replace("/*###PROTOTYPEDATA###*/",JSON.stringify(t,null,2))}(e,n)),NSWorkspace.sharedWorkspace().openFile(_),c.message("✅ Exported!")}}else c.message("❌ No artboards in this document")},t.arrayFromNSArray=f,t.walkLayerTree=h;var r=n(2),i=r.Document,o=(r.Page,r.Artboard),a=r.Rectangle,l=r.Flow,c=(r.HotSpot,n(3)),s=n(4),u=n(10),d=n(11);function f(e){for(var t=[],n=0;n<e.count();n++)t.push(e.objectAtIndex(n));return t}function h(e,t){!function e(n){t(n);var r=void 0;if("layers"in n)r=f(n.layers());else{if(!("artboards"in n))return;r=f(n.artboards())}r.forEach(function(t){return e(t)})}(e)}},function(e,t){e.exports=require("sketch/dom")},function(e,t){e.exports=require("sketch/ui")},function(e,t,n){e.exports={showOpenDialog:n(5),showSaveDialog:n(8),showMessageBox:n(9)}},function(e,t,n){var r=n(0);e.exports=function(e,t,n){e&&"function"==typeof e.class||(n=t,t=e,e=void 0),t||(t={});var i,o=NSOpenPanel.openPanel();if(t.title&&(o.title=t.title),t.defaultPath&&(o.directoryURL=NSURL.URLWithString(t.defaultPath)),t.buttonLabel&&(o.prompt=t.buttonLabel),t.filters&&t.filters.length){var a=[];t.filters.forEach(function(e){e.extensions.forEach(function(e){a.push(e)})}),o.allowedFileTypes=a}function l(){for(var e=[],t=o.URLs(),n=0;n<t.length;n+=1)e.push(String(t[n].path()));return e}if(t.properties&&t.properties.length&&t.properties.forEach(function(e){"openFile"===e?o.canChooseFiles=!0:"openDirectory"===e?o.canChooseDirectories=!0:"multiSelections"===e?o.allowsMultipleSelection=!0:"showHiddenFiles"===e?o.showsHiddenFiles=!0:"createDirectory"===e?o.createDirectory=!0:"noResolveAliases"===e?o.resolvesAliases=!1:"treatPackageAsDirectory"===e&&(o.treatsFilePackagesAsDirectories=!0)}),t.message&&(o.message=t.message),!e)return(i=o.runModal())==NSOKButton?n?void n(l()):l():[];var c=NSButton.class();function s(e,t){if(t&&t.subviews&&t.subviews())for(var n=t.subviews(),r=0;r<n.length;r+=1){var i=n[r];if(i.isKindOfClass(c)&&String(i.title())==e)return i;var o=s(e,i);if(o)return o}}var u,d=s("Cancel",o.contentView()),f=s(t.buttonLabel||"Open",o.contentView()),h=r.new();d.setTarget(h),d.setAction(NSSelectorFromString("button1Clicked:")),f.setTarget(h),f.setAction(NSSelectorFromString("button0Clicked:")),n&&(coscript.createFiber?u=coscript.createFiber():coscript.shouldKeepAround=!0),h.options=NSDictionary.dictionaryWithDictionary({onClicked:function(e){n?(n(0==e?l():void 0),NSApp.endSheet(o),u?u.cleanup():coscript.shouldKeepAround=!1):NSApp.stopModalWithCode(e)}});var p=(e.sketchObject||e).documentWindow();return o.beginSheetForDirectory_file_modalForWindow_modalDelegate_didEndSelector_contextInfo(null,null,p,null,null,null),n?void 0:(i=NSApp.runModalForWindow(p),NSApp.endSheet(o),0==i?l():void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=void 0,t.default=function(e){const t=e.superclass||NSObject,n=(e.className||e.classname||"ObjCClass")+NSUUID.UUID().UUIDString(),o=new Set(["className","classname","superclass"]);var a=MOClassDescription.allocateDescriptionForClassWithName_superclass_(n,t);const l=[];for(var c in e){const t=e[c];if("function"==typeof t&&"init"!==c){var s=NSSelectorFromString(c);a.addInstanceMethodWithSelector_function_(s,t)}else o.has(c)||(l.push(c),a.addInstanceVariableWithName_typeEncoding(c,"@"))}return a.addInstanceMethodWithSelector_function_(NSSelectorFromString("init"),function(){const t=i.call(this);return l.map(n=>{Object.defineProperty(t,n,{get:()=>(function(e,t){const n=MOPointer.new();return(0,r.object_getInstanceVariable)(e,t,n),n.value().retain().autorelease()})(t,n),set(e){(0,r.object_setInstanceVariable)(t,n,e)}}),t[n]=e[n]}),"function"==typeof e.init&&e.init.call(this),t}),a.registerClass()};var r=n(7);t.SuperCall=r.SuperCall;const i=(0,r.SuperCall)(NSStringFromSelector("init"),[],{type:"@"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=function(e,t,n){const i=o("objc_msgSendSuper",[{type:"^"+r},{type:":"},...t],n);return function(...t){const n=(r=this,o=this.superclass(),function e(t){if("object"!=typeof t||0==Object.keys(t).length)return t;const n=Object.keys(t)[0],r=t[n],i=MOStruct.structureWithName_memberNames_runtime(n,Object.keys(r),Mocha.sharedRuntime());return Object.keys(r).map(t=>{i[t]=e(r[t])}),i}({objc_super:{receiver:r,super_class:o}}));var r,o;const a=MOPointer.alloc().initWithValue_(n);return i(a,e,...t)}},t.CFunc=o;const r='{objc_super="receiver"@"super_class"#}';function i(e,t){const n=NSMutableDictionary.dictionary();n.o=e,Object.keys(t).map(e=>n.setValue_forKeyPath(t[e],"o."+e))}function o(e,t,n){function r(e){if(!e)return null;const t=MOBridgeSupportArgument.alloc().init();return i(t,{type64:e.type}),t}const o=MOBridgeSupportFunction.alloc().init();return i(o,{name:e,arguments:t.map(r),returnValue:r(n)}),o}t.object_getInstanceVariable=o("object_getInstanceVariable",[{type:"@"},{type:"*"},{type:"^@"}],{type:"^{objc_ivar=}"}),t.object_setInstanceVariable=o("object_setInstanceVariable",[{type:"@"},{type:"*"},{type:"@"}],{type:"^{objc_ivar=}"});!function(e,t){const n=MOBridgeSupportController.sharedController().valueForKey("symbols");if(!n)throw Error("Something has changed within bridge support so we can't add our definitions");if(null!==n[e])return;const r=MOBridgeSupportStruct.alloc().init();i(r,{name:e,type:t.type}),n[e]=r}("objc_super",{type:r})},function(e,t,n){var r=n(0);e.exports=function(e,t,n){var i,o;e&&"function"==typeof e.class||(n=t,t=e,e=void 0),t||(t={});var a=NSSavePanel.savePanel();if(t.title&&(a.title=t.title),t.defaultPath)if("."===t.defaultPath[0]||"~"===t.defaultPath[0]||"/"===t.defaultPath[0]){a.setDirectoryURL(NSURL.URLWithString(NSString.stringWithString(t.defaultPath).stringByExpandingTildeInPath()));var l=t.defaultPath.split("/");l.length>1&&l[l.length-1]&&a.setNameFieldStringValue(l[l.length-1])}else a.setNameFieldStringValue(t.defaultPath);if(t.buttonLabel&&(a.prompt=t.buttonLabel),t.filters&&t.filters.length){var c=[];t.filters.forEach(function(e){e.extensions.forEach(function(e){c.push(e)})}),a.allowedFileTypes=c}if(t.message&&(a.message=t.message),t.nameFieldLabel&&(a.nameFieldLabel=t.nameFieldLabel),t.showsTagField&&(a.showsTagField=t.showsTagField),!e)return(i=a.runModal())==NSOKButton?(o=String(a.URL().path()),n?void n(o):o):void 0;var s=NSButton.class();function u(e,t){if(t&&t.subviews&&t.subviews())for(var n=t.subviews(),r=0;r<n.length;r+=1){var i=n[r];if(i.isKindOfClass(s)&&String(i.title())==e)return i;var o=u(e,i);if(o)return o}}var d,f=u("Cancel",a.contentView()),h=u(t.buttonLabel||"Save",a.contentView()),p=r.new();f.setTarget(p),f.setAction(NSSelectorFromString("button1Clicked:")),h.setTarget(p),h.setAction(NSSelectorFromString("button0Clicked:")),n&&(coscript.createFiber?d=coscript.createFiber():coscript.shouldKeepAround=!0),p.options=NSDictionary.dictionaryWithDictionary({onClicked:function(e){n?(n(0==e?String(a.URL().path()):void 0),NSApp.endSheet(a),d?d.cleanup():coscript.shouldKeepAround=!1):NSApp.stopModalWithCode(e)}});var S=(e.sketchObject||e).documentWindow();return a.beginSheetForDirectory_file_modalForWindow_modalDelegate_didEndSelector_contextInfo(null,null,S,null,null,null),n?void 0:(i=NSApp.runModalForWindow(S),NSApp.endSheet(a),0==i?String(a.URL().path()):void 0)}},function(e,t,n){var r=n(0),i={none:0,info:1,error:2,question:1,warning:2};e.exports=function(e,t,n){var o;!e||"function"!=typeof e.class&&!e.sketchObject?(n=t,t=e,e=void 0):e.sketchObject&&(e=e.sketchObject),t||(t={});var a=NSAlert.alloc().init();if(t.type&&(a.alertStyle=i[t.type]||0),t.buttons&&t.buttons.length&&t.buttons.forEach(function(e){a.addButtonWithTitle(t.normalizeAccessKeys?e.replace(/&/g,""):e)}),void 0!==t.defaultId){var l=a.buttons();t.defaultId<l.length&&(l[0].setKeyEquivalent(""),l[t.defaultId].setKeyEquivalent("\r"))}if(t.title,t.message&&(a.messageText=t.message),t.detail&&(a.informativeText=t.detail),t.checkboxLabel&&(a.showsSuppressionButton=!0,a.suppressionButton().title=t.checkboxLabel,void 0!==t.checkboxChecked&&(a.suppressionButton().state=t.checkboxChecked?NSOnState:NSOffState)),t.icon?("string"==typeof t.icon&&(t.icon=NSImage.alloc().initWithContentsOfFile(t.icon)),a.icon=t.icon):"undefined"!=typeof __command&&__command.pluginBundle()&&__command.pluginBundle().icon()&&(a.icon=__command.pluginBundle().icon()),!e){if(o=Number(a.runModal())-1e3,n){var c=!1;return t.checkboxLabel&&(c=a.suppressionButton().state()==NSOnState),void n({response:o,checkboxChecked:c})}return o}var s,u=r.new();a.buttons().forEach(function(e,t){e.setTarget(u),e.setAction(NSSelectorFromString("buttonClicked:")),e.setTag(t)}),n&&(coscript.createFiber?s=coscript.createFiber():coscript.shouldKeepAround=!0),u.options=NSDictionary.dictionaryWithDictionary({onClicked:function(e){n?(n({response:Number(e),checkboxChecked:a.suppressionButton().state()==NSOnState}),NSApp.endSheet(a.window()),s?s.cleanup():coscript.shouldKeepAround=!1):NSApp.stopModalWithCode(Number(e))}});var d=(e.sketchObject||e).documentWindow();if(a.beginSheetModalForWindow_modalDelegate_didEndSelector_contextInfo(d,null,null,null),!n)return o=Number(NSApp.runModalForWindow(d)),NSApp.endSheet(a.window()),o}},function(e,t){e.exports.constants={F_OK:0,R_OK:4,W_OK:2,X_OK:1},e.exports.accessSync=function(t,n){n|=0;var r=NSFileManager.defaultManager();switch(n){case 0:return e.exports.existsSync(t);case 1:return Boolean(r.isExecutableFileAtPath(t));case 2:return Boolean(r.isWritableFileAtPath(t));case 3:return Boolean(r.isExecutableFileAtPath(t)&&r.isWritableFileAtPath(t));case 4:return Boolean(r.isReadableFileAtPath(t));case 5:return Boolean(r.isReadableFileAtPath(t)&&r.isExecutableFileAtPath(t));case 6:return Boolean(r.isReadableFileAtPath(t)&&r.isWritableFileAtPath(t));case 7:return Boolean(r.isReadableFileAtPath(t)&&r.isWritableFileAtPath(t)&&r.isExecutableFileAtPath(t))}},e.exports.appendFileSync=function(t,n,r){if(e.exports.existsSync(t)){var i=NSFileHandle.fileHandleForWritingAtPath(t);i.seekToEndOfFile(),i.writeData(n.dataUsingEncoding(NSUTF8StringEncoding))}else n.writeToFile_atomically(t,!0)},e.exports.chmodSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFilePosixPermissions:t},e,n),null!==n.value())throw new Error(n.value())},e.exports.copyFileSync=function(e,t,n){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().copyItemAtPath_toPath_error(e,t,r),null!==r.value())throw new Error(r.value())},e.exports.existsSync=function(e){var t=NSFileManager.defaultManager();return Boolean(t.fileExistsAtPath(e))},e.exports.linkSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().linkItemAtPath_toPath_error(e,t,n),null!==n.value())throw new Error(n.value())},e.exports.mkdirSync=function(e,t){t=t||511;var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(e,!1,{NSFilePosixPermissions:t},n),null!==n.value())throw new Error(n.value())},e.exports.mkdtempSync=function(t){var n=t+function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return e.exports.mkdirSync(n),n},e.exports.readdirSync=function(e){for(var t=NSFileManager.defaultManager().subpathsAtPath(e),n=[],r=0;r<t.length;r++)n.push(t[r]);return n},e.exports.readFileSync=function(e,t){var n=t&&t.encoding?t.encoding:t||"buffer",r=(MOPointer.alloc().init(),NSFileManager.defaultManager().contentsAtPath(e));switch(n){case"utf8":return String(NSString.alloc().initWithData_encoding(r,NSUTF8StringEncoding));case"ascii":return String(NSString.alloc().initWithData_encoding(r,NSASCIIStringEncoding));case"utf16le":case"ucs2":return String(NSString.alloc().initWithData_encoding(r,NSUTF16LittleEndianStringEncoding));case"base64":var i=NSData.alloc().initWithBase64EncodedData_options(r,0);return String(NSString.alloc().initWithData_encoding(i,NSUTF8StringEncoding));case"latin1":case"binary":return String(NSString.alloc().initWithData_encoding(r,NSISOLatin1StringEncoding));case"hex":default:return r}},e.exports.readlinkSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().destinationOfSymbolicLinkAtPath_error(e,t);if(null!==t.value())throw new Error(t.value());return n},e.exports.realpathSync=function(e){return NSString.stringByResolvingSymlinksInPath(e)},e.exports.renameSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().moveItemAtPath_toPath_error(e,t,n),null!==n.value())throw new Error(n.value())},e.exports.rmdirSync=function(e){var t=MOPointer.alloc().init();if(NSFileManager.defaultManager().removeItemAtPath_error(e,t),null!==t.value())throw new Error(t.value())},e.exports.statSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().attributesOfItemAtPath_error(e,t);if(null!==t.value())throw new Error(t.value());return{dev:String(n.NSFileDeviceIdentifier),mode:n.NSFileType|n.NSFilePosixPermissions,nlink:Number(n.NSFileReferenceCount),uid:String(n.NSFileOwnerAccountID),gid:String(n.NSFileGroupOwnerAccountID),size:Number(n.NSFileSize),atimeMs:1e3*Number(n.NSFileModificationDate.timeIntervalSince1970()),mtimeMs:1e3*Number(n.NSFileModificationDate.timeIntervalSince1970()),ctimeMs:1e3*Number(n.NSFileModificationDate.timeIntervalSince1970()),birthtimeMs:1e3*Number(n.NSFileCreationDate.timeIntervalSince1970()),atime:new Date(1e3*Number(n.NSFileModificationDate.timeIntervalSince1970())+.5),mtime:new Date(1e3*Number(n.NSFileModificationDate.timeIntervalSince1970())+.5),ctime:new Date(1e3*Number(n.NSFileModificationDate.timeIntervalSince1970())+.5),birthtime:new Date(1e3*Number(n.NSFileCreationDate.timeIntervalSince1970())+.5),isBlockDevice:function(){return n.NSFileType===NSFileTypeBlockSpecial},isCharacterDevice:function(){return n.NSFileType===NSFileTypeCharacterSpecial},isDirectory:function(){return n.NSFileType===NSFileTypeDirectory},isFIFO:function(){return!1},isFile:function(){return n.NSFileType===NSFileTypeRegular},isSocket:function(){return n.NSFileType===NSFileTypeSocket},isSymbolicLink:function(){return n.NSFileType===NSFileTypeSymbolicLink}}},e.exports.symlinkSync=function(e,t){var n=MOPointer.alloc().init();NSFileManager.defaultManager().createSymbolicLinkAtPath_withDestinationPath_error(t,e,n);if(null!==n.value())throw new Error(n.value())},e.exports.truncateSync=function(e,t){var n=NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);n.truncateFileAtOffset(t||0),n.closeFile()},e.exports.unlinkSync=function(e){var t=MOPointer.alloc().init();NSFileManager.defaultManager().removeItemAtPath_error(e,t);if(null!==t.value())throw new Error(t.value())},e.exports.utimesSync=function(e,t,n){var r=MOPointer.alloc().init();NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFileModificationDate:t},e,r);if(null!==r.value())throw new Error(r.value())},e.exports.writeFileSync=function(e,t,n){var r=n&&n.encoding?n.encoding:n||"utf8";if(t&&t.mocha&&"NSData"===t.mocha().class())t.writeToFile_atomically(e,!0);else{var i=MOPointer.alloc().init(),o=NSString.stringWithString(t);switch(r){case"utf8":return void o.writeToFile_atomically_encoding_error(e,!0,NSUTF8StringEncoding,i);case"ascii":return void o.writeToFile_atomically_encoding_error(e,!0,NSASCIIStringEncoding);case"utf16le":case"ucs2":return void o.writeToFile_atomically_encoding_error(e,!0,NSUTF16LittleEndianStringEncoding);case"base64":return void o.dataUsingEncoding(NSUTF8StringEncoding).base64EncodedStringWithOptions(0).writeToFile_atomically(e,!0);case"latin1":case"binary":return void o.writeToFile_atomically_encoding_error(e,!0,NSISOLatin1StringEncoding);case"hex":default:return void o.writeToFile_atomically_encoding_error(e,!0,NSUTF8StringEncoding,i)}}}},function(e,t){var n=47,r=46;function i(e,t){for(var i,o="",a=0,l=-1,c=0,s=0;s<=e.length;s+=1){if(s<e.length)i=e.charCodeAt(s);else{if(i===n)break;i=n}if(i===n){if(l===s-1||1===c);else if(l!==s-1&&2===c){if(o.length<2||2!==a||o.charCodeAt(o.length-1)!==r||o.charCodeAt(o.length-2)!==r)if(o.length>2){var u=o.lastIndexOf("/");if(u!==o.length-1){-1===u?(o="",a=0):a=(o=o.slice(0,u)).length-1-o.lastIndexOf("/"),l=s,c=0;continue}}else if(2===o.length||1===o.length){o="",a=0,l=s,c=0;continue}t&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+e.slice(l+1,s):o=e.slice(l+1,s),a=s-l-1;l=s,c=0}else i===r&&-1!==c?++c:c=-1}return o}function o(e){if("string"==typeof e)return e;if(e&&e.class&&"function"==typeof e.class){const t=String(e.class());if("NSString"===t)return String(e);if("NSURL"===t)return String(e.path())}throw new Error("path should be a string")}var a={resolve:function(){for(var e,t="",r=!1,l=arguments.length-1;l>=-1&&!r;l-=1){var c;l>=0?c=arguments[l]:(void 0===e&&(e=a.dirname(String(__command.script().URL().path())||MSPluginManager.defaultPluginURL())),c=e),0!==(c=o(c)).length&&(t=c+"/"+t,r=c.charCodeAt(0)===n)}return t=i(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(0===(e=o(e)).length)return".";var t=e.charCodeAt(0)===n,r=e.charCodeAt(e.length-1)===n;return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return(e=o(e)).length>0&&e.charCodeAt(0)===n},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;t+=1){var n=arguments[t];(n=o(n)).length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if((e=o(e))===(t=o(t)))return"";if((e=a.resolve(e))===(t=a.resolve(t)))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===n;r+=1);for(var i=e.length,l=i-r,c=1;c<t.length&&t.charCodeAt(c)===n;c+=1);for(var s=t.length-c,u=l<s?l:s,d=-1,f=0;f<=u;f+=1){if(f===u){if(s>u){if(t.charCodeAt(c+f)===n)return t.slice(c+f+1);if(0===f)return t.slice(c+f)}else l>u&&(e.charCodeAt(r+f)===n?d=f:0===f&&(d=0));break}var h=e.charCodeAt(r+f);if(h!==t.charCodeAt(c+f))break;h===n&&(d=f)}var p="";for(f=r+d+1;f<=i;f+=1)f!==i&&e.charCodeAt(f)!==n||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(c+d):(c+=d,t.charCodeAt(c)===n&&(c+=1),t.slice(c))},toNamespacedPath:function(e){return e},dirname:function(e){if(0===(e=o(e)).length)return".";for(var t=e.charCodeAt(0),r=t===n,i=-1,a=!0,l=e.length-1;l>=1;l-=1)if((t=e.charCodeAt(l))===n){if(!a){i=l;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new Error("ext should be a string");e=o(e);var r,i=0,a=-1,l=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var c=t.length-1,s=-1;for(r=e.length-1;r>=0;r-=1){var u=e.charCodeAt(r);if(u===n){if(!l){i=r+1;break}}else-1===s&&(l=!1,s=r+1),c>=0&&(u===t.charCodeAt(c)?-1==--c&&(a=r):(c=-1,a=s))}return i===a?a=s:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===n){if(!l){i=r+1;break}}else-1===a&&(l=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){for(var t=-1,i=0,a=-1,l=!0,c=0,s=(e=o(e)).length-1;s>=0;--s){var u=e.charCodeAt(s);if(u!==n)-1===a&&(l=!1,a=s+1),u===r?-1===t?t=s:1!==c&&(c=1):-1!==t&&(c=-1);else if(!l){i=s+1;break}}return-1===t||-1===a||0===c||1===c&&t===a-1&&t===i+1?"":e.slice(t,a)},format:function(e){if(null===e||"object"!=typeof e)throw new Error("pathObject should be an Object");return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){var t={root:"",dir:"",base:"",ext:"",name:""};if(0===(e=o(e)).length)return t;var i,a=e.charCodeAt(0),l=a===n;l?(t.root="/",i=1):i=0;for(var c=-1,s=0,u=-1,d=!0,f=e.length-1,h=0;f>=i;--f)if((a=e.charCodeAt(f))!==n)-1===u&&(d=!1,u=f+1),a===r?-1===c?c=f:1!==h&&(h=1):-1!==c&&(h=-1);else if(!d){s=f+1;break}return-1===c||-1===u||0===h||1===h&&c===u-1&&c===s+1?-1!==u&&(t.base=t.name=0===s&&l?e.slice(1,u):e.slice(s,u)):(0===s&&l?(t.name=e.slice(1,c),t.base=e.slice(1,u)):(t.name=e.slice(s,c),t.base=e.slice(s,u)),t.ext=e.slice(c,u)),s>0?t.dir=e.slice(0,s-1):l&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a}]);"default"===e&&"function"==typeof n?n(t):n[e](t)}that.onRun=__skpm_run.bind(this,"default");